/**
 * QUICK REFERENCE: Layout Standards
 * Copy-paste snippets untuk konsistensi layout
 */

/* ============================================
   CONTAINER SYSTEM
   ============================================ */

// React/MUI (TypeScript)
<Box sx={{ 
  width: "100%", 
  maxWidth: { xs: "100%", sm: 1200, xl: 1280 }, 
  px: { xs: 2, sm: 3, md: 3 }, 
  py: { xs: 2, md: 3 },
  margin: "0 auto"
}}>

// CSS
.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 24px;
}
@media (min-width: 1536px) { 
  .container { max-width: 1280px; } 
}
@media (max-width: 600px) { 
  .container { padding: 0 16px; } 
}

// Tailwind
<div className="w-full max-w-[1200px] xl:max-w-[1280px] mx-auto px-6 md:px-6 sm:px-4">


/* ============================================
   CARD/PANEL COMPONENT
   ============================================ */

// React/MUI (TypeScript)
<Paper 
  elevation={0} 
  sx={{ 
    p: { xs: 2.5, sm: 3 }, 
    borderRadius: 2,  // 16px
    overflow: "visible",
    boxShadow: "0 4px 20px rgba(0, 0, 0, 0.05)",
    bgcolor: "background.paper"
  }}
>

// CSS
.card {
  border-radius: 16px;
  padding: 20px;
  overflow: visible;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
  background: #fff;
}
@media (min-width: 600px) {
  .card { padding: 24px; }
}

// Tailwind
<div className="rounded-2xl p-5 sm:p-6 overflow-visible shadow-[0_4px_20px_rgba(0,0,0,0.05)] bg-white">


/* ============================================
   RESPONSIVE GRID
   ============================================ */

// React/MUI (TypeScript)
<Grid container spacing={{ xs: 2, sm: 3 }} columns={12}>
  <Grid item xs={12} sm={6} lg={4}>
    {/* Content */}
  </Grid>
</Grid>

// CSS Grid
.dashboard-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 16px;
}
@media (min-width: 600px) {
  .dashboard-grid { gap: 24px; }
}

// Tailwind
<div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6">


/* ============================================
   TABLE WITH STICKY HEADER
   ============================================ */

// React/MUI (TypeScript)
<TableContainer sx={{ overflowX: "auto" }}>
  <Table size="small" sx={{ minWidth: 600 }}>
    <TableHead>
      <TableRow>
        <TableCell sx={{ 
          position: "sticky", 
          top: 0, 
          bgcolor: "background.paper", 
          zIndex: 1,
          fontWeight: 600
        }}>
          Header
        </TableCell>
      </TableRow>
    </TableHead>
    <TableBody>
      <TableRow>
        <TableCell sx={{ 
          maxWidth: 200,
          overflow: "hidden",
          textOverflow: "ellipsis",
          whiteSpace: "nowrap"
        }}>
          Long content...
        </TableCell>
      </TableRow>
    </TableBody>
  </Table>
</TableContainer>

// CSS
.table-wrap {
  overflow-x: auto;
}
.table {
  min-width: 600px;
  width: 100%;
}
.table thead th {
  position: sticky;
  top: 0;
  background: #fff;
  z-index: 1;
  font-weight: 600;
}
.table td {
  max-width: 200px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

// Tailwind
<div className="overflow-x-auto">
  <table className="min-w-[600px] w-full">
    <thead>
      <tr>
        <th className="sticky top-0 bg-white z-10 font-semibold">Header</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td className="max-w-[200px] overflow-hidden text-ellipsis whitespace-nowrap">
          Content
        </td>
      </tr>
    </tbody>
  </table>
</div>


/* ============================================
   ICON BOX
   ============================================ */

// React/MUI (TypeScript)
<Box
  sx={{
    width: 44,
    height: 44,
    borderRadius: 1.5,  // 12px
    display: "flex",
    alignItems: "center",
    justifyContent: "center",
    backgroundColor: alpha(color, 0.12),
  }}
>
  <Icon size={22} />
</Box>

// CSS
.icon-box {
  width: 44px;
  height: 44px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(37, 99, 235, 0.12);
}

// Tailwind
<div className="w-11 h-11 rounded-xl flex items-center justify-center bg-blue-600/12">


/* ============================================
   SPACING STANDARDS
   ============================================ */

// MUI sx prop values
spacing: { xs: 2, sm: 3 }        // 16px mobile, 24px desktop
spacing: { xs: 2.5, sm: 3 }      // 20px mobile, 24px desktop
gap: { xs: 2, sm: 3 }            // Grid/Stack gap

// CSS values
gap: 16px;   /* mobile */
gap: 24px;   /* tablet+ */
padding: 16px;  /* mobile card */
padding: 20px;  /* mobile card (comfortable) */
padding: 24px;  /* desktop card */

// Section spacing
margin-bottom: 24px;  /* mobile */
margin-bottom: 32px;  /* desktop */


/* ============================================
   BORDER RADIUS STANDARDS
   ============================================ */

MUI Value  | CSS Value | Use Case
-----------|-----------|------------------
1          | 8px       | Small elements (badges, chips)
1.5        | 12px      | Icon boxes, small cards
2          | 16px      | Cards, panels, modals (STANDARD)
3          | 24px      | Large containers (use sparingly)

❌ AVOID: borderRadius > 24px (creates oval shapes)


/* ============================================
   SHADOW STANDARDS
   ============================================ */

// Standard card shadow
boxShadow: "0 4px 20px rgba(0, 0, 0, 0.05)"

// Hover/elevated state
boxShadow: "0 8px 32px rgba(0, 0, 0, 0.08)"

// Subtle inset shadow
boxShadow: "inset 0 2px 4px rgba(0, 0, 0, 0.04)"

❌ AVOID: blur > 32px or opacity > 0.1 (causes overlap)


/* ============================================
   RESPONSIVE BREAKPOINTS
   ============================================ */

MUI Breakpoint | Min Width | Typical Device
---------------|-----------|------------------
xs             | 0px       | Mobile portrait
sm             | 600px     | Mobile landscape, small tablet
md             | 900px     | Tablet
lg             | 1200px    | Laptop
xl             | 1536px    | Desktop, large monitors

// Media query syntax
@media (min-width: 600px) { /* sm+ */ }
@media (min-width: 900px) { /* md+ */ }
@media (min-width: 1200px) { /* lg+ */ }
@media (min-width: 1536px) { /* xl+ */ }


/* ============================================
   TEXT OVERFLOW HANDLING
   ============================================ */

// Single line truncation
sx={{
  overflow: "hidden",
  textOverflow: "ellipsis",
  whiteSpace: "nowrap",
  maxWidth: 200
}}

// Multi-line clamp (2 lines)
sx={{
  overflow: "hidden",
  textOverflow: "ellipsis",
  display: "-webkit-box",
  WebkitLineClamp: 2,
  WebkitBoxOrient: "vertical",
  wordBreak: "break-word"
}}

// CSS
.truncate-single {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 200px;
}

.truncate-multi {
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  word-break: break-word;
}


/* ============================================
   Z-INDEX SCALE
   ============================================ */

Layer              | z-index | Use Case
-------------------|---------|------------------
Base               | 0       | Normal content
Card content       | 1       | Ensure visibility
Sticky header      | 1-2     | Table headers
Dropdown           | 10      | Menus, tooltips
Modal backdrop     | 100     | Modal overlays
Modal content      | 101     | Modal dialogs
Toast/Snackbar     | 1000    | Notifications

❌ AVOID: z-index > 1000 unless absolutely necessary


/* ============================================
   ACCESSIBILITY CHECKS
   ============================================ */

// Focus ring (always include)
sx={{
  "&:focus-visible": {
    outline: "2px solid",
    outlineColor: "primary.main",
    outlineOffset: 2
  }
}}

// Contrast ratio (WCAG AA)
- Normal text: 4.5:1 minimum
- Large text (18pt+): 3:1 minimum
- UI components: 3:1 minimum

// Aria labels (required)
<Box aria-label="Card title">
<Button aria-label="Close dialog">
<Table aria-label="Student grades">


/* ============================================
   COMMON MISTAKES TO AVOID
   ============================================ */

❌ DON'T:
- borderRadius > 24px (creates oval shapes)
- overflow: "hidden" on containers with text/buttons
- Shadow blur > 32px (causes overlap)
- Fixed padding without responsive values
- z-index without clear hierarchy

✅ DO:
- borderRadius: 2 (16px) for standard cards
- overflow: "visible" for content containers
- Shadow: "0 4px 20px rgba(0,0,0,0.05)"
- Responsive padding: { xs: 2.5, sm: 3 }
- z-index: Use scale (0, 1, 10, 100, 1000)


/* ============================================
   QUICK FIX GLOBAL CSS (Emergency)
   ============================================ */

/* Paste this in global CSS if urgent fixes needed */
.card, .panel, .metric-card {
  border-radius: 16px !important;
  overflow: visible !important;
  box-shadow: 0 4px 20px rgba(0,0,0,.05) !important;
  padding: 20px !important;
}

.main-container {
  max-width: 1200px !important;
  margin: 0 auto !important;
  padding: 0 24px !important;
}

.table thead th {
  position: sticky !important;
  top: 0 !important;
  background: #fff !important;
  z-index: 1 !important;
}

/* Remove any extreme border-radius */
* {
  border-radius: clamp(0px, var(--border-radius, 16px), 24px) !important;
}
